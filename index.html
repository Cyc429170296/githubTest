<!DOCTYPE html>
<html lang="zh-cmn-Hans">
<meta charset="utf-8">
<meta name='viewport' content='width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no' >
<head>
	<title>test</title>
	<style>
	
		html,body{overflow:hidden;background:pink;height:100%;}
	   *{margin:0;padding:0;}
	   p{line-height:25px;}
	   #touchSlide{background:blue;}
	   ul li{list-style:none;background:orange}
	   .text-content{width:100%;overflow:hidden;}
	   .text-content ul{overflow:hidden;position:relative;left:0;top:0;transition:all .5s;-webkit-transition:all .5s;-ms-transition:all .5s;cursor:pointer; }
	   img{height:80px;}
	   .text-content li{box-sizing:border-box;width:100%;padding:0 1%;float:left;position:relative;left:0;top:0;transition:all .5s;-webkit-transition:all .5s;-ms-transition:all .5s;}
	   
	</style>
	<script src='jquery.min.js'></script>
</head>
<body>
	<div class='text-content'>
		<ul id='touchSlide' style='width:100%'>
			<li class='aa'>
				<p>
				   1搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方9
				</p>
				<img src='aaa.jpg' width='100%' />
				<p>
				   2搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方9
				</p>
				<img src='aaa.jpg' width='100%' />
				<p>
				   3搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方9
				</p>
				<img src='aaa.jpg' width='100%' /><p>
				   4搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方9
				</p>
				<img src='aaa.jpg' width='100%' />
				<p>
				   结束5搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方9
				</p>
				<img src='aaa.jpg' width='100%' />
			</li>
			<li class='aa'>
				<p>
				   2搭建都是45945495489540佛等我卖豆腐脑对方搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方搭建都是和我放到奇偶发单金佛等我卖豆腐脑4544544对方搭建都是和我132331放到奇偶发单金佛等我8卖豆腐脑对方
				</p>
				<p>
				   1搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方9
				</p>
				<img src='aaa.jpg' width='100%' />
				<p>
				   1搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方9
				</p>
				<img src='aaa.jpg' width='100%' />
				<p>
				   1搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方9
				</p>
				<img src='aaa.jpg' width='100%' />
				<img src='aaa.jpg' width='100%'  />
			</li>
			<li>
				<p>
				   3搭建都是和11111我放到奇偶发单金佛等我卖豆腐脑对方搭建都是和我222222222放到奇偶发单金佛等我卖豆腐33333脑对方搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方4444444444搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方搭建都是和55555555555我放到奇偶发单金佛等我卖豆腐脑对方6666666666666搭建都是和我放到奇偶发单金佛等我7777777777777卖豆腐脑对方
				</p>
			</li>
			<li>
				<p>
				   4搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方搭建都是和我放到奇偶发单金佛等我卖豆腐脑对方搭建都是和我放到奇偶发单金佛等我8卖豆腐脑对方
				</p>
				<img src='aaa.jpg' width='100%'  />
			</li>
		</ul>
	</div>
	<div style='position:fixed;top:0;left:0;width:100px;min-height:50px;background:red;z-index:999;' class='aaa'></div>
	<div style='position:fixed;top:0;left:110px;width:100px;min-height:50px;background:orange;z-index:999;' class='bbb'></div>
	<script>
		$('.bbb').click(function(){$('.aaa').html('')})
	</script>
	<script>
		var touchSlide = function(a){
			a = a || {};
			var b = {
				slideCell: a.slideCell || "#touchSlide",
				mainCell: a.mainCell || "",
				effect: a.effect || "left",
				moveDiss : a.movediss || $(window).width(),//要移动的距离
				moveAuto : a.moveAuto || false
			}
			var slideCell = $(b.slideCell),
			mainCell = $(b.mainCell),
			effect = b.effect,
			wd = $(window).width(),
			len = mainCell.length,
			isLeft = effect ==='left' ? true : false,
			
			diss = 0,//点击鼠标和弹起鼠标之间的距离
			moveDiss = b.moveDiss,//要移动的距离
			moveMin = wd - moveDiss,
			moveAuto = a.moveAuto,
			moveCache = moveAuto ? 0 : 200,
			moveMax = isLeft ? (size=len * wd,slideCell.width(size),mainCell.width(wd),size - moveDiss) : slideCell.height() - $(window).height(),
			
			scale = 1,//放大
			//cu = 0,
			startPos = 0,
			endPos = 0,
			//count = Math.ceil(moveMax / moveDiss),//当移动为auto时失效
			pos = parseInt(slideCell.css(effect)),
			isMove = 'ontouchstart' in window,
			start = isMove ? 'touchstart' : 'mousedown',
			move = isMove ? 'touchmove' : 'mousemove',
			end = isMove ? 'touchend' : 'mouseup';
			var eventStart = function(e){
				target = isMove ? e.targetTouches[0] : e;
				startPos = isLeft ? target.pageX : target.pageY;
				slideCell[0].addEventListener(move, eventMove, false);	 
				slideCell[0].addEventListener(end, eventEnd, false);
			}
			
			var eventMove = function(e){
				e.preventDefault();
				target = isMove ? e.targetTouches[0] : e;
				endPos = isLeft ? target.pageX : target.pageY;
				diss = startPos - endPos;
				slideCell.css(effect,pos - diss + 'px');
			}
				
			var eventEnd = function(e){		
				e.preventDefault();
				moveDiss = moveAuto ?　diss : moveDiss;

					if(diss > 0){
						slide(moveDiss,moveMax);
					}else{
						slide(moveDiss > 0 ? -moveDiss : moveDiss,moveMin);
						
						/*if(Math.abs(diss) > moveCache && -diss/Math.abs(diss)*(pos - aaa) <= moveMin){
							if(!moveAuto){
								slideCell.css(effect , (pos - aaa) + 'px');
								
							}
							pos = pos - aaa;	
						}else{
							pos = moveAuto ? -moveMin : pos;
							slideCell.css(effect,pos + 'px');
							//pos = -moveMin;
						}*/

					}
					diss = 0;
				slideCell[0].removeEventListener(move, eventMove, !1);	 
				slideCell[0].removeEventListener(end, eventEnd, !1);
				
			}
			slideCell[0].addEventListener(start, eventStart, !1);

			var slide = function(moveDiss,moveRnage){
				if(Math.abs(diss) > moveCache && -diss/Math.abs(diss)*(pos - moveDiss) <= moveRnage){
					if(!moveAuto){
						slideCell.css(effect,(pos - moveDiss) + 'px');

					}
					pos = pos - moveDiss;		
				}else{
					pos = moveAuto ? -moveRnage : pos;
					slideCell.css(effect , pos + 'px')
				}
			}
		}
	</script>
	
	<script>
		touchSlide({
			slideCell : '#touchSlide',
			//slideCell : '.aa',
			mainCell : '#touchSlide li',
			effect : 'left',
			moveAuto : 'auto'
		})
	
		/*touchSlide({
			slideCell : '.aa',
			effect : 'top'
		})*/
	</script>
</body>
</html>